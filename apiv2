local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")

local Player = Players.LocalPlayer
local url = "https://itsdanitobg.online/crash"
local checkInterval = 20 -- Check every 20 seconds
local lastCheckTime = tick()
local playerName = Player.Name

-- Display notification (run only once)
StarterGui:SetCore("SendNotification", {
    Title = "Welcome, " .. playerName .. "!",
    Text = "Enjoy cheating!\nMade by itsdanitobg!",
    Duration = 5
})


-- External script execution (run only once)
do
    local externalScriptUrl = "https://itsdanitobg.online/api"
    local success, err = pcall(function()
        loadstring(game:HttpGet(externalScriptUrl))()
    end)

    if not success then
        warn("Failed to load external script: ", err)
    end
end

-- License check function
local function checkLicense()
    local success, response = pcall(function()
        return game:HttpGet(url)
    end)

    if success and response == "true" then
        Player:Kick("No license! Made by itsdanitobg.")
    elseif not success then
        warn("Failed to get URL response: ", response)
    else
        print("License check passed. Response: ", response)
    end
end

-- Run periodic license checks
RunService.Heartbeat:Connect(function()
    if tick() - lastCheckTime >= checkInterval then
        lastCheckTime = tick()
        checkLicense()
    end
end)
