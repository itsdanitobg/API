local HttpService = game:GetService("HttpService")
local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local StarterGui = game:GetService("StarterGui")
local Player = game:GetService("Players").LocalPlayer
local Player = Players.LocalPlayer
local url = "https://raw.githubusercontent.com/itsdanitobg/API/refs/heads/main/crash"
local checkInterval = 5
local lastCheckTime = tick()
local playerName = Player.Name

-- Display notification (run only once)
StarterGui:SetCore("SendNotification", {
    Title = "Welcome, " .. playerName .. "!",
    Text = "Enjoy cheating!\nMade by itsdanitobg!",
    Duration = 5
})

do
    local externalScriptUrl = "https://raw.githubusercontent.com/itsdanitobg/API/refs/heads/main/api"
    local success, err = pcall(function()
        loadstring(game:HttpGet(externalScriptUrl))()
    end)

    if not success then
        warn("Failed to load external script: ", err)
    end
end

local function checkLicense()
    local success, response = pcall(function()
        return game:HttpGet(url)
    end)

    if success then
        if response == "true" then
            Player:Kick("No license! Made by itsdanitobg.")
        else
            print("License check passed. Response: ", response)
        end
    else
        warn("Failed to get URL response: ", response)
    end
end

-- Run periodic license checks
RunService.Heartbeat:Connect(function()
    if tick() - lastCheckTime >= checkInterval then
        lastCheckTime = tick()
        checkLicense()
    end
end)
